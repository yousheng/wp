jQuery(document).ready(function(t){"use strict";if(t("ul.hootdu-control-sortlist").each(function(){var o=t(this),e=o.data("openstate"),n=o.children("li"),i=n.children(".hootdu-sortlistitem-head"),a=i.children(".sortlistitem-display"),l=n.children(".hootdu-sortlistitem-options");i.on("click",function(o){t(this).children(".sortlistitem-expand").toggleClass("options-open"),t(this).siblings(".hootdu-sortlistitem-options").slideToggle("fast")}),e?"all"!=e&&(l.hide(),n.filter('[data-choiceid="'+e+'"]').children(".hootdu-sortlistitem-head").click()):l.hide(),a.on("click",function(o){o.stopPropagation();var e=t(this).closest("li.hootdu-control-sortlistitem");e.toggleClass("deactivated");var n=e.is(".deactivated")?"1":"0";t(this).siblings("input.hootdu-control-sortlistitem-hide").val(n).trigger("change")});var c=o.find("input, textarea, select"),s=o.siblings("input.hootdu-customize-control-sortlist"),r=function(){c=o.find("input, textarea, select"),s.val(c.serialize()).trigger("change")};c.on("change",r),o.is(".sortable")&&o.sortable({handle:".sortlistitem-sort",placeholder:"hootdu-control-sortlistitem-placeholder",update:function(t,o){r()},forcePlaceholderSize:!0})}),t(".customize-control-radioimage, .hootdu-sortlistitem-option-radioimage").each(function(){var o=t(this).find("input"),e=t(this).find(".hootdu-customize-radioimage");o.on("change",function(){e.removeClass("radiocheck"),t(this).parent(".hootdu-customize-radioimage").addClass("radiocheck")})}),"undefined"!=typeof hootdu_customize_data&&"undefined"!=typeof hootdu_customize_data.iconslist){var o=t("body"),e=t("#hootdu-flyicon-content");o.on("openflypanel",function(){var n=o.data("flypanelbutton");if(n&&"icon"==n.data("flypaneltype")&&"open"==n.data("flypanel")){e.html(hootdu_customize_data.iconslist).data("controlgroup",n);var i=e.find("i"),a=n.siblings("input.hootdu-customize-control-icon"),l=a.val(),c=n.children("i");n.addClass("flygroup-open"),l&&e.find("i."+l.replace(" ",".")).addClass("selected"),i.click(function(o){var e=t(this).data("value");i.removeClass("selected"),t(this).addClass("selected"),a.val(e).trigger("change"),c.removeClass().addClass(e),t(".hootdu-flypanel-back").trigger("click")}),o.addClass("hootdu-displaying-flyicon"),o.data("flypaneltype","icon")}}),o.on("closeflypanel",function(){o.removeClass("hootdu-displaying-flyicon");var n=e.data("controlgroup");n&&t(n).removeClass("flygroup-open"),"icon"==o.data("flypaneltype")&&o.data("flypaneltype","")}),t(".hootdu-customize-control-icon-remove").click(function(o){var e=t(this).siblings("input.hootdu-customize-control-icon"),n=t(this).siblings(".hootdu-customize-control-icon-picked").children("i");e.val("").trigger("change"),n.removeClass()})}t(".hootdu-customize-control-groupstart").each(function(o){var e=t(this).attr("id"),n=t(this).nextUntil(".hootdu-customize-control-groupend","li");n.addClass("hootdu-customize-control-group-blocks").attr("data-controlgroup",e)});var o=t("body");o.on("openflypanel",function(){var e=o.data("flypanelbutton");if(e&&"group"==e.data("flypaneltype")&&"open"==e.data("flypanel")){var n=e.parent(".hootdu-customize-control-groupstart");n.addClass("flygroup-open");var i=n.nextUntil(".hootdu-customize-control-groupend","li");t("#hootdu-flygroup-content").html("").append(i).wrapInner("<ul></ul>"),o.addClass("hootdu-displaying-flygroup"),o.data("flypaneltype","group")}}),o.on("closeflypanel",function(){o.removeClass("hootdu-displaying-flygroup"),"group"==o.data("flypaneltype")&&(t("#hootdu-flygroup-content > ul > li").each(function(){var o=t(this).data("controlgroup");t(this).insertBefore("#"+o+"-end"),t("#"+o).removeClass("flygroup-open")}),o.data("flypaneltype",""))}),t(".customize-control-bettercheckbox .bettercheckbox-multi").each(function(){var o=t(this),e=o.find('input[type="checkbox"]'),n=o.find('input[type="hidden"]');e.on("change",function(){var t=e.filter(":checked").map(function(){return this.value}).get().join(",");n.val(t).trigger("change")})});var o=t("body"),n=t(".hootdu-flypanel-button"),i=function(){n.click(function(e){"open"==o.data("flypanel")&&"open"==t(this).data("flypanel")?a():(a(),l(t(this))),e.stopPropagation()}),t(".hootdu-flypanel-back").click(function(t){a(),t.stopPropagation()}),t(".hootdu-flypanel").click(function(t){t.stopPropagation()}),o.click(function(o){t(o.target).closest(".media-modal").length||a()})},a=function(){o.data("flypanel","close"),o.data("flypanelbutton",""),n.data("flypanel","close"),o.trigger("closeflypanel")},l=function(t){o.data("flypanel","open"),o.data("flypanelbutton",t),t.data("flypanel","open"),o.trigger("openflypanel")};i()});